---
title: "Utilities"
description: "Helper functions for tree manipulation and validation"
---

Use these utility functions when building custom logic or manipulating the document tree programmatically.

## Tree Operations

```tsx
import { createNode, findNode } from "@open-email/editor";
```

<ResponseField
  name="createNode"
  type="(type, props?, children?, id?) => EmailNode"
>
  Creates a new node object. If `id` is omitted a unique ID is generated
  automatically. Pass a fixed `id` when you need deterministic output (e.g. SSR
  / hydration-safe initial documents).
</ResponseField>

<ResponseField name="cloneNode" type="(node) => EmailNode">
  Deeply clones a node and its children, generating new IDs for all.
</ResponseField>

<ResponseField name="findNode" type="(root, id) => EmailNode | null">
  Finds a node by ID within a tree.
</ResponseField>

<ResponseField name="findParent" type="(root, id) => EmailNode | null">
  Finds the parent of a given node ID.
</ResponseField>

<ResponseField name="flattenTree" type="(root) => EmailNode[]">
  Returns an array of all nodes in the tree.
</ResponseField>

## Document Management

<ResponseField name="createEmptyDocument" type="(title?) => EmailDocument">
  Creates a fresh document with a default structure (Container > Section > Text).
</ResponseField>

<ResponseField name="validateDocument" type="(doc) => string[]">
  Checks a document for errors (missing required fields, duplicate IDs, etc.).
  Returns an array of error messages.
</ResponseField>

<ResponseField name="getNodePath" type="(node, root) => number[]">
  Returns the path of indices from the root to the node.
</ResponseField>

<ResponseField name="generateId" type="(prefix?) => string">
  Generates a unique ID for a node.
</ResponseField>
